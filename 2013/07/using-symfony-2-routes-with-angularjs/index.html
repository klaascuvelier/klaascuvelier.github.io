<!DOCTYPE html>
<html class="">
    
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>
        Klaas Cuvelier
    </title>
    <meta name="description" content="Klaas Cuvelier. Software engineer and runner" />
    

    <script>
        
        function setTheme(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)}function toggleTheme(){document.documentElement.classList.contains("dark")?setTheme("light"):setTheme("dark")}function getInitialTheme(){const e=localStorage.getItem("theme");return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("theme-toggle");setTheme(getInitialTheme()),e&&e.addEventListener("click",toggleTheme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{setTheme(e.matches?"dark":"light")}))}));
    </script>

    <link rel="stylesheet" href="/css/main.css" />

    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet" />
    <link rel="canonical" href="/2013/07/using-symfony-2-routes-with-angularjs/" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â†’</text></svg>">

    <script defer data-domain="klaascuvelier.io" src="https://plausible.io/js/plausible.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>


    <body class="min-h-100 text-[#111] bg-[#fbfcf1] dark:bg-[#1f1f16] dark:text-[#e9e9e9]">
        <button id="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode" class="fixed top-2 right-2">ðŸŒ“</button>
        
<header class="site-header mb-5 mx-2">
    <div class="pl-2 py-2 flex flex-row justify-start items-center">
        <a class="text-l text-gray-700 visited:text-gray-700 dark:text-[#e9e9e9] mr-2" href="/">Klaas Cuvelier</a>
        
            <span class="mr-2 text-gray-300">/</span>
            <a class="text-l !text-gray-700 dark:!text-[#e9e9e9]  mr-2" href="/blog/">writing</a>
        
    </div>
</header>


<main class="sm:container sm:mx-auto py-10 pb-5 px-4">
    <div class="post">
  <h2 id="about-symfony2-routes" tabindex="-1">About Symfony2 Routes</h2>
<p>Symfony has a great implementation of <a title="Symfony routing" href="http://symfony.com/doc/current/book/routing.html" target="_blank">routing</a> where you can assign names to routes. This way you can generate an URL by referencing this route via the name and giving some parameters (if needed) both in another method and in your views.</p>
<h3 id="an-example%3A" tabindex="-1"><strong>An example:</strong></h3>
<p><a href="https://gist.github.com/klaascuvelier/6018279">symfony-controller.php on Github</a></p>
<p>This is a view where the routes are used<br>
<a href="https://gist.github.com/klaascuvelier/6018261">symfony-routing.html.twig on Github</a></p>
<p>Using a name to reference to a specific route is very useful, if you decide later on that the url to fetch assets should be changed toÂ */prefix/asset/{type} *or whatever, there is no need to do a search-replace over the code base.</p>
<h2 id="bringing-this-flexibility-to-the-front-end" tabindex="-1"><strong>Bringing this flexibility to the front-end</strong></h2>
<p>There are various reasons why youâ€™d need URLs in your JavaScript (AngularJS);Â fetching data, performing actions, â€¦<br>
By hardcoding URLs you lose the flexibility Symfony provided, this is a construction to keep it in the front-end:</p>
<ul>
<li>Create a service where all routes are stored in key/value-pairs, which can generate URLs by providing the route name and optional parameters</li>
<li>Create a directive to define all available routes in the URL service</li>
</ul>
<h3 id="the-service" tabindex="-1"><strong>The service</strong></h3>
<p><a href="https://gist.github.com/klaascuvelier/6018363">url-service.js on Github</a></p>
<h3 id="the-directive" tabindex="-1"><strong>The directive</strong></h3>
<p>The easiest way to define the available routes in the service, is via a directive.<br>
An HTML element (in this case a script-tag) with a special attribute can be used to define all routes. In the pre-compile method, the elementâ€™s innerHTML is parsed to add all routes to the service.<br>
<a href="https://gist.github.com/klaascuvelier/6018424">url-directive.js on Github</a></p>
<p><strong>Using the URL directive</strong><br>
<a href="https://gist.github.com/klaascuvelier/6018540">url-example.html.twig on Github</a></p>
<h3 id="using-urls-in-an-angularjs-controller" tabindex="-1">Using URLs in an AngularJS controller</h3>
<p>Using a route you defined earlier in a controller is pretty straight forward:<br>
<a href="https://gist.github.com/klaascuvelier/6018397">example-controller.js on Github</a></p>
<h2 id="remarks" tabindex="-1">Remarks</h2>
<p>In the URL directive and service <em>:parameter</em>Â is used to add parameters in the url, it would also be possible to use <em>{parameter}</em>Â to make it more like the routes in PHP, but this would require to do an urldecode of the generated URL</p>
<p>The <em>:parameter</em>Â placeholder has one downside, it limits your options for <a href="http://symfony.com/doc/current/book/routing.html#required-and-optional-placeholders" target="_blank">parameter requirements</a>.<br>
Itâ€™s not possible to add numeric or advanced regular expressions as requirements, as the placeholder is a fixed string.</p>
<p>Â </p>

</div>


<footer class="site-footer mt-10 text-sm">
    &copy; Klaas Cuvelier
</footer>


</main>

    </body>
</html>
