<!DOCTYPE html>
<html>
    
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>
        Klaas Cuvelier | Software developer & Runner
    </title>
    <meta name="description" content="Klaas Cuvelier. Software craftsman and runner" />
    

    <link rel="stylesheet" href="/css/main.css" />

    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet" />
    <link rel="canonical" href="/2013/07/using-symfony-2-routes-with-angularjs/" />

    <script defer data-domain="klaascuvelier.io" src="https://plausible.io/js/plausible.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>


    <body class="min-h-100">
        

    <header class="site-header mb-5 w-screen bg-white">
        <div class="pl-2 py-2 flex flex-row justify-start items-center">
            <a href="/" class="mr-3">
                <img class="rounded-full w-7 h-7" src="https://www.gravatar.com/avatar/21e383b432aa4530d524d1ffb9ad25fc?s=84" alt="avatar klaas" />
            </a>
            <a class="text-l text-gray-700 visited:text-gray-700 mr-2" href="/">Klaas Cuvelier</a>
            
                <span class="mr-2 text-gray-300">/</span>
               <span class="text-l text-gray-700 mr-2">writing</span>
            
        </div>
    </header>


<div class="page-content">
  <div class="wrapper">
    <div class="post">
  <h2 id="about-symfony2-routes" tabindex="-1">About Symfony2 Routes</h2>
<p>Symfony has a great implementation of <a title="Symfony routing" href="http://symfony.com/doc/current/book/routing.html" target="_blank">routing</a> where you can assign names to routes. This way you can generate an URL by referencing this route via the name and giving some parameters (if needed) both in another method and in your views.</p>
<h3 id="an-example%3A" tabindex="-1"><strong>An example:</strong></h3>
<p><a href="https://gist.github.com/klaascuvelier/6018279">symfony-controller.php on Github</a></p>
<p>This is a view where the routes are used<br>
<a href="https://gist.github.com/klaascuvelier/6018261">symfony-routing.html.twig on Github</a></p>
<p>Using a name to reference to a specific route is very useful, if you decide later on that the url to fetch assets should be changed to */prefix/asset/{type} *or whatever, there is no need to do a search-replace over the code base.</p>
<h2 id="bringing-this-flexibility-to-the-front-end" tabindex="-1"><strong>Bringing this flexibility to the front-end</strong></h2>
<p>There are various reasons why you’d need URLs in your JavaScript (AngularJS); fetching data, performing actions, …<br>
By hardcoding URLs you lose the flexibility Symfony provided, this is a construction to keep it in the front-end:</p>
<ul>
<li>Create a service where all routes are stored in key/value-pairs, which can generate URLs by providing the route name and optional parameters</li>
<li>Create a directive to define all available routes in the URL service</li>
</ul>
<h3 id="the-service" tabindex="-1"><strong>The service</strong></h3>
<p><a href="https://gist.github.com/klaascuvelier/6018363">url-service.js on Github</a></p>
<h3 id="the-directive" tabindex="-1"><strong>The directive</strong></h3>
<p>The easiest way to define the available routes in the service, is via a directive.<br>
An HTML element (in this case a script-tag) with a special attribute can be used to define all routes. In the pre-compile method, the element’s innerHTML is parsed to add all routes to the service.<br>
<a href="https://gist.github.com/klaascuvelier/6018424">url-directive.js on Github</a></p>
<p><strong>Using the URL directive</strong><br>
<a href="https://gist.github.com/klaascuvelier/6018540">url-example.html.twig on Github</a></p>
<h3 id="using-urls-in-an-angularjs-controller" tabindex="-1">Using URLs in an AngularJS controller</h3>
<p>Using a route you defined earlier in a controller is pretty straight forward:<br>
<a href="https://gist.github.com/klaascuvelier/6018397">example-controller.js on Github</a></p>
<h2 id="remarks" tabindex="-1">Remarks</h2>
<p>In the URL directive and service <em>:parameter</em> is used to add parameters in the url, it would also be possible to use <em>{parameter}</em> to make it more like the routes in PHP, but this would require to do an urldecode of the generated URL</p>
<p>The <em>:parameter</em> placeholder has one downside, it limits your options for <a href="http://symfony.com/doc/current/book/routing.html#required-and-optional-placeholders" target="_blank">parameter requirements</a>.<br>
It’s not possible to add numeric or advanced regular expressions as requirements, as the placeholder is a fixed string.</p>
<p> </p>

</div>


<footer class="site-footer mt-10">
    <div class="wrapper">
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li>&copy; Klaas Cuvelier</li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
                    
                    
                </ul>
            </div>
            <div class="footer-col footer-col-3">
                <p class="text"></p>
            </div>
        </div>
    </div>
</footer>
  </div>
</div>
    </body>

</html>
